"use strict";(self.webpackChunk_roots_bud_sage_sage=self.webpackChunk_roots_bud_sage_sage||[]).push([[989],{"./scripts/utilities/lazyload.js":(e,i,s)=>{s.d(i,{u:()=>t});const t=()=>{const e=document.querySelectorAll("img.js-lazy-media");if("IntersectionObserver"in window){let i=new IntersectionObserver((function(e){e.forEach((function(e){if(e.isIntersecting){let s=e.target;s.src=s.dataset.src,s.dataset.src="",s.addEventListener("load",(()=>{s.classList.remove("js-lazy-media"),s.classList.add("is-lazy-media-loaded")})),i.unobserve(s)}}))}));e.forEach((function(e){i.observe(e)}))}}},"./scripts/utilities/video.js":(e,i,s)=>{s("./scripts/utilities/vimeoVideo.js");class t{constructor(){this.videoSection=document.querySelectorAll(".c-video--youtube:not(.initialized)"),this.init()}async init(){await new Promise(((e,i)=>{const s=document.createElement("script");s.src="https://www.youtube.com/iframe_api";const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(s,t),s.onload=e,s.onerror=i}));this.videoSection.forEach((e=>{e.classList.add("initialized");const i=e.querySelector(".js-video-trigger-btn--play"),s=e.querySelector(".js-video-trigger-btn--pause"),t=e.querySelector(".c-video-wrap");t.classList.add("is-video-ready");const a=e.querySelector(".c-video-figure"),o=(e=>{const i=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!i||11!==i[7].length)&&i[7]})(a.dataset.src);let d,l=!1;const c=e=>{e.target.playVideo()},n=e=>{e.data!=YT.PlayerState.PLAYING||l?e.data==YT.PlayerState.PLAYING?(t.classList.remove("is-video-ready"),t.classList.add("is-video-playing")):(t.classList.add("is-video-ready"),t.classList.remove("is-video-playing")):(t.classList.remove("is-video-ready"),t.classList.add("is-video-playing"),l=!0)};t.addEventListener("click",(e=>{const l=e.target;l===i?(d?d.playVideo():d=new YT.Player(a,{videoId:o,playerVars:{playsinline:1,autoplay:1,muted:1,controls:0},events:{onReady:c,onStateChange:n}}),t.classList.remove("is-video-ready"),t.classList.add("is-video-playing")):l===s&&(d&&d.pauseVideo(),t.classList.add("is-video-ready"),t.classList.remove("is-video-playing"))}))}))}}new t;class a{constructor(){this.videoSection=document.querySelectorAll(".c-video--default:not(.initialized)"),this.init()}init(){const e=this;this.videoSection.forEach((i=>{i.classList.add("initialized");const s=i.querySelector(".js-video-player-btn"),t=i.querySelector(".c-video-player"),a=i.querySelector(".c-video-wrap");s.addEventListener("click",(function(){o&&(t.dataset.initial="false",t.muted=!1);"true"===t.dataset.initial?(t.currentTime=0,e.globalVideoPause(),t.play(),t.dataset.initial="false",t.muted=!1,t.setAttribute("controls","true"),a.classList.add("is-video-playing")):t.paused?(e.globalVideoPause(),t.play(),s.classList.add("played"),a.classList.add("is-video-playing"),t.setAttribute("controls","true")):(s.classList.remove("played"),t.pause(),a.classList.remove("is-video-playing"),t.controls=!1)})),t.onloadstart=function(){this.classList.add("is-video-loading")},t.oncanplay=function(){this.classList.remove("is-video-loading"),this.classList.add("is-video-loaded"),a.classList.add("is-video-ready")},t.onplay=function(){"true"!==t.dataset.initial||s.classList.remove("played")},t.onpause=function(){a.classList.contains("is-video-playing")&&(s.classList.remove("played"),a.classList.remove("is-video-playing"),t.controls=!1)},t.onseeking=()=>{s.classList.add("seeking"),a.classList.add("is-video-playing"),t.controls=!0},t.onseeked=()=>{t.play(),s.classList.add("played"),s.classList.remove("seeking"),a.classList.add("is-video-playing"),t.controls=!0};const o=!!navigator.platform.match(/iPhone/);o&&(t.playsInline=!1,t.muted=!1)}))}globalVideoPause(){document.querySelectorAll(".c-video--default").forEach((e=>{const i=e.querySelector("video"),s=e.querySelector(".js-video-player-btn");"false"===i.dataset.initial&&(e.classList.remove("is-video-playing"),s.classList.remove("played"),i.pause(),i.controls=!1)}))}}new a},"./scripts/utilities/vimeoVideo.js":()=>{class e{constructor(){this.videoSection=document.querySelectorAll(".c-video--vimeo:not(.initialized)"),this.init()}init(){let e=document.createElement("script");e.src="https://player.vimeo.com/api/player.js";let i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i),setTimeout((()=>{this.videoSection.forEach((e=>{e.classList.add("initialized");const i=e.querySelector(".js-video-trigger-btn--play"),s=e.querySelector(".js-video-trigger-btn--pause"),t=e.querySelector(".c-video-wrap");let a=new Vimeo.Player(e.querySelector(".c-video-figure"),{url:e.querySelector(".c-video-figure").dataset.src,loop:!0,title:!1,byline:!1,portrait:!1,controls:!1,responsive:!0,muted:!0,autopause:!1});i.addEventListener("click",(function(){a.play(),t.classList.add("is-video-playing"),t.classList.remove("is-video-ready")})),s.addEventListener("click",(function(){a.pause(),t.classList.add("is-video-ready"),t.classList.remove("is-video-playing")})),a.on("loaded",(function(){t.classList.add("is-video-ready")})),a.on("play",(function(){t.classList.remove("is-video-ready"),t.classList.add("is-video-playing")})),a.on("pause",(function(){console.log("Paused the video"),t.classList.add("is-video-ready"),t.classList.remove("is-video-playing")}))}))}),1e3)}}new e}}]);